{% extends 'base.html' %}

{% block title %}My Blog{% endblock %}

{% block content %}

<div class="posts-container">
    {% for post in posts %}
        {% if post.ispublic == 'public' %}
            <div class="post">
                <h2>{{ post.title }}</h2>
                <hr>
                <p>{{ post.content }}</p><br><br>

                <img src="{{ url_for('static', filename='icons/tag_label_blue_icon.png') }}" alt="Tag Label icon" style="width: 20px; height: auto;">
                <p><strong>{{ post.tags }}</strong></p><br><br>
                
                <p>{{ post.user.username }}</p><br><br>
                <p>{{ post.created_date.strftime('%d %B') }}</p><br><br>

                <!-- <img src="{{ url_for('static', filename='icons/heart_thin_icon.png') }}" alt="Heart icon" style="width: 20px; height: auto; cursor: pointer;" onclick="toggleImage(this, 'heart')">
                <p style="margin-right: 10px;">{{ post.like_count }}</p>
                
                <img src="{{ url_for('static', filename='icons/saved_icon.png') }}" alt="Saved icon" style="width: 20px; height: auto; cursor: pointer;" onclick="toggleImage(this, 'save')">
                <p>{{ post.save_count }}</p>
            </div> -->
            {% endif %}
    {% endfor %}
</div>

<script>
    // function toggleImage(imgElement, type){
    //     const currentSrc = imgElement.src;
    //     let newSrc;

    //     if(type === 'heart'){
    //         if(currentSrc.includes('heart_thin_icon.png')){
    //             newSrc = "{{ url_for('static', filename='icons/red_heart_icon.png') }}";
    //         }
    //         else{
    //             newSrc = "{{ url_for('static', filename='icons/heart_thin_icon.png') }}";
    //         }
    //     }
    //     else if(type === 'save'){
    //         if(currentSrc.includes('saved_icon.png')){
    //             newSrc = "{{ url_for('static', filename='icons/saved_bookmark_icon.png') }}";
    //         }
    //         else{
    //             newSrc = "{{ url_for('static', filename='icons/saved_icon.png') }}";
    //         }
    //     }

    //     imgElement.src = newSrc;
    // }
</script>

{% endblock %}